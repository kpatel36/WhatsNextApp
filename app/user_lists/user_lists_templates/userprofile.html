{% extends 'components/layout.html' %} 

{% block title %}
<!-- will be same for other people's profiles and for your own profile?  -->
{% endblock title %}

{% block css %}
{% endblock css %}

{% block content %}
<!--S1: user queried do`es not exist-->
{% if not user %}
<div class="row justify-content-center">
    <div class="col-6">
        <h4>404 Error: User does not exist!</h4>
    </div>
</div>
{% else %} <!-- user does exist-->
<div class="container-fluid">
    <div class="row justify-content-center">
        <h1 class="user_info">{{ user.username }}'s page </h1>
    </div>
</div>
    <!--S4: signed in - signed in user's page -->
    {% if user.id == current_user.id %}
        <!-- stuff from signed in user's page -->
<!--S2, S3 are similar just matters if user is logged in-->
<!-- S2: if user is logged in, will see follow/unfollow button for that user whose profile we are on, and add to watchlist/add to favorites buttons -->
<!-- S3: if user is not logged in, will see a 'register/sign in to follow button'-->
    {% else %} 
    <div class="row m-4">
        <div class="col-8">
            <!-- if movie favorites -->
                <!-- card-deck-->
                <!--for movie in movie favorites-->
                    <!--display up to 8 cards? -->
                <!-- endfor -->
            <!-- else -->
                <!-- user.username has no lists yet -->
            <!-- endif-->
            <!-- repeat for each list the user has-->

        </div>
        <div class="col-4">
            <div class="side-panel_card align-content-center justify-content-center float-right mr-4">
                <div class="card-body">
                    <h5 class="card-title d-flex justify-content-center" >@{{ user.username }}</h5>
                    <h6 class="card-text d-flex flex-wrap justify-content-center">Short_Bio/Personal Quote</h6>
                    <p class="card-text d-flex flex-wrap justify-content-center">Bio</p>
                </div> 
                <div class="profile_info d-flex justify-content-center">Following Number and Link</div>
                <div class="profile_info d-flex justify-content-center">Followers Number and Link</div>
                <div class="card-body justify-content-center">
                {% if not current_user.is_authenticated %}
                <a href="{{ url_for('auth.login') }}" class="btn btn-block btn-outline-info">Login to Follow</a>
                {% elif user.id != current_user.id and user not in current_user.followed %} 
                <a href="{{ url_for('user_lists.follow', uid=user.id) }}" class="btn btn-block btn-outline-info">Follow</a>
                {% else %}
                <a href="{{ url_for('user_lists.unfollow', uid=user.id) }}" class="btn btn-block btn-outline-info justify-content-center">Unfollow</a>
                {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>
    {% endif %}

{% endif %}
{% endblock content %}