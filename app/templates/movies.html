{% extends 'components/layout.html' %}

{% block title %}
Movies
{% endblock title %}

{% block css %}
<link ref="stylesheet" href="../media_type.css">
{% endblock css %} 

{% block content %}
<div class="container-fluid m-5">
    <div class="row justify-content-center">
        <h1 class="page-header">MOVIES</h1>
    </div>
    <div class="row d-flex justify-content-center m-4">
        <h1 class="deck_header">TRENDING</h1>
    </div>
    <div class="media-scroller bg-dark snaps-inline pl-4 pr-4 ml-4 mr-4">
        {% for i in range(trend_movies|length//2) %}
        <div class="media-card p-4 d-flex flex-column text-align-center justify-content-center">
            <img src="https://image.tmdb.org/t/p/w200/{{ trend_movies[i][0]['poster_path'] }}" alt="{{ trend_movies[i][0]['title'] }}" class="movie-poster">
            <div class="card-text bg-transparent text-align-center ">{{ trend_movies[i][0]['title'] }}</div>
            <div class="card-text bg-transparent">{{ trend_movies[i][0]['overview']}}</div>
            <div class="buttons d-flex flex-column justify-space-between bg-transparent">
                <a href="{{ url_for('user_lists.addToMovie_Faves', movie_title=trend_movies[i][0]['title']) }}" class="mt-4 mb-4 btn btn-outline-info">Add to Your Favorites</a>
                <a href="{{ url_for('user_lists.addToMovie_Watchlist', movie_title=trend_movies[i][0]['title']) }}" class="mt-4 mb-4 btn btn-outline-info">Add to Your Watchlist</a>
            </div>
        </div>
        {% endfor %}
    </div> <!-- end of media-scroller div-->
    <div class="row d-flex justify-content-center m-4">
        <h1 class="deck_header">NOW PLAYING</h1>
    </div>
    <div class="media-scroller bg-dark snaps-inline pl-4 pr-4 ml-4 mr-4">
        {% for i in range(now_playing_movies|length//2) %}
        <div class="media-card p-4 d-flex flex-column text-align-center justify-content-center">
            <img src="https://image.tmdb.org/t/p/w200/{{ now_playing_movies[i][0]['poster_path'] }}" alt="{{  now_playing_movies[i][0]['title'] }}" class="movie-poster">
            <div class="card-text bg-transparent">{{  now_playing_movies[i][0]['title'] }}</div>
            <div class="card-text bg-transparent">{{  now_playing_movies[i][0]['overview']}}</div>
            <div class="buttons bg-transparent d-flex flex-column justify-space-between">
                <!-- <a href="{{ url_for('user_lists.addToMovie_Faves', movie_title=now_playing_movies[i][0]['title']) }}" class="btn btn-outline-info">Add to Favorites</a> -->
                <a href="{{ url_for('user_lists.addToMovie_Faves', movie_title=trend_movies[i][0]['title']) }}" class="btn btn-outline-info mt-4 mb-4">Add to Your Favorites</a>
                <a href="{{ url_for('user_lists.addToMovie_Watchlist', movie_title=trend_movies[i][0]['title']) }}" class="btn btn-outline-info mt-4 mb-4">Add to Your Watchlist</a>
            </div>
        </div>
        {% endfor %}
    </div> <!--end of row div-->
    <div class="row d-flex justify-content-center m-4">
        <h1 class="deck_header">POPULAR</h1>
    </div>
    <div class="media-scroller bg-dark snaps-inline pl-4 pr-4 ml-4 mr-4">
        {% for i in range(pop|length//2) %}
        <div class="media-card p-4 d-flex flex-column text-align-center justify-content-center" style="width:18rem;">
            <img src="https://image.tmdb.org/t/p/w200/{{ pop[i][0]['poster_path'] }}" alt="{{ pop[i][0]['title'] }}" class="movie-poster">
            <div class="card-text bg-transparent">{{ pop[i][0]['title'] }}</div>
            <div class="card-text bg-transparent">{{ pop[i][0]['overview']}}</div>
            <div class="buttons bg-transparent d-flex flex-column justify-space-between">
                <a href="{{ url_for('user_lists.addToMovie_Faves', movie_title=trend_movies[i][0]['title']) }}" class="btn btn-outline-info mt-4 mb-4">Add to Your Favorites</a>
                <a href="{{ url_for('user_lists.addToMovie_Watchlist', movie_title=trend_movies[i][0]['title']) }}" class="btn btn-outline-info mt-4 mb-4">Add to Your Watchlist</a>
            </div>
        </div>
            {% endfor %}
    </div> <!-- end of card-deck div-->
    </div> <!--end of row div-->
    
</div> <!--end of container div-->
{% endblock content %}